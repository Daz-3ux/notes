# 镜像的内部机制
- 分层 `layer`
  - 容器内部由许多层镜像组成
  - 每层都是只读不修改的一组文件
  - 相同的层可在镜像之间共享
  - 多个层像积木一样堆叠起来使用:`Union FS 联合文件系统`

# Dockerfile
- 制作容器镜像的`施工图纸`
- Demo
```
# Dockerfile.busybox
FROM busybox
CMD echo "hello,world!"
```

# 如何编写正确,高效的 Dockerfile
- 需编写 Dockerfile,写清楚创建镜像的流程,每个指令都会生成一个 layer
- 第一个指令必须是 `FROM`,用来选择基础镜像.常用命令还有:
  - COPY
  - RUN
  - EXPOSE
  - CMD
- docker build
  - 需指定`构建上下文`
- 创建镜像时尽量使用 `-t` 参数取一个好名字

# Docker build 是怎么工作的