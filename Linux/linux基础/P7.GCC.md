# GCC工作流程
- 预处理(预编译)、编译和优化、汇编、链接

## 预处理 
- 展开头文件，宏替换，去掉注释行
- GCC调用预处理器完成，得到的还是源文件，为文本格式

## 编译
- GCC调用编译器，得到汇编文件

## 汇编
- GCC调用汇编器，得到二进制文件

## 链接：
- GCC调用链接器对程序需要调用的库进行链接，得到**可执行二进制文件**

|文件名后缀|源文件|GCC参数|
|:----:|:--:|:--:|
|.c|源文件|无|
|.i|预处理后的C文件|-E|
|.s|编译之后得到的汇编语言的源文件|-S|
|.o|汇编后得到的二进制文件|-c|

# GCC常用参数
- -g：产生调试信息
- -w：不产生警告信息
- -Wall：生成所有警告信息
- -D：指定宏

# GCC与G++
- 并非单纯的一个只能编译C，一个只能编译C++

## 代码编译阶段
- 后缀为.c：gcc将其当做C程序，g++将其当做C++程序
- 后缀为.cpp：都当做C++
- g++会调用gcc，对于C++两者是等价的

## 链接阶段
- gcc与g++都可以自动链接到C库
- g++可自动链接到C++库，gcc需添加参数`lstdc++`

## __cplusplus宏
- g++自动添加此宏，且不影响编译C程序
- gcc需自行判断

## summary：
- g++与gcc都可编译C
- g++可直接编译C++，gcc需要加参数`-lstdc++`
- 无论是C或C++都可直接定义宏`__cplusplus`