# 静态动态“库”
- 使用库可以使程序更加简洁
- 可以保密源代码

# 静态库
- 使用较少
- Linux:`libXXXX.a`  Windows:`libXXXX.lib`

## 生成静态库
1. 汇编 源文件 得`.o`文件，使用参数`c`
2. 打包得静态库`ar rcs 静态库名字 原材料`
3. 发布静态库

## 静态库使用
编译时记得链接

# 动态库
- 程序运行时加载的库
- 正确部署后可被多个程序加载到内存，又称共享库
- Linux:`libxxx.so` Windows:`libxxx.dll`

## 生成
- `-fpic`：使GCC生成的代码是与位置**无关**的，即使用相对位置
- `-shared`：告诉编译器生成一个动态链接库

# 优缺点
## 静态
- 优：
1. 静态库打包到应用程序加载速度快
2. 发布程序无需提供静态库，方便移植
- 缺：
1. 消耗系统资源多，浪费内存
2. 库文件更新需重新编译项目文件，浪费时间

## 动态
- 优：
1. 可实现进程间共享
2. 升级简单
3. 可控制**何时加载动态库**，不调用的可以不被加载

- 缺：
1. 加载速度慢(现在计算机的性能可以忽略此缺点)
2. 发布程序需要提供依赖的动态库